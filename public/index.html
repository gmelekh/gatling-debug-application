<!DOCTYPE html>
<html ng-app="GatlingDebug">
<head>
  <meta charset="utf-8">
  <title>Gatling Debug Timeline</title>

  <!-- Dependencies -->

  <link rel="stylesheet" href="../bower_components/bootstrap/dist/css/bootstrap.min.css">
  <!--<link rel="stylesheet" href="../bower_components/bootstrap/dist/css/bootstrap-theme.min.css">-->

  <!-- Application -->

  <link rel="stylesheet" href="../app/css/main.css">
  <link rel="stylesheet" href="../app/css/timeline.css">
  <link rel="stylesheet" href="../app/css/timeline-sort.css">
  <link rel="stylesheet" href="../app/css/timeline-exec.css">
</head>
<body>

<div class="container">

  <div ng-controller="positionController" class="text-right">
    <h4>Position:</h4>

    <div>
      <button type="button" class="btn btn-xs btn-default" ng-click="increase()">Shift right</button>
      <button type="button" class="btn btn-xs btn-default" ng-click="decrease()">Shift left</button>
      <button type="button" class="btn btn-xs btn-primary" ng-click="reset()">Reset</button>
    </div>
  </div>

  <div ng-controller="ratioController" class="text-right">
    <h4>Ratio:</h4>

    <div>
      <button type="button" class="btn btn-xs btn-default" ng-click="increase()">Increase</button>
      <button type="button" class="btn btn-xs btn-default" ng-click="decrease()">Decrease</button>
      <button type="button" class="btn btn-xs btn-primary" ng-click="reset()">Reset</button>
    </div>
  </div>

  <table id="timeline" class="table table-condensed table-striped" ng-controller="timelineController">
    <thead>
    <tr>
      <th class="timeline-col-4">Name<span>Type</span></th>
      <th class="timeline-col-2">Duration</th>
      <th class="timeline-col-2 sortColumnAsc">Start<span>Start date</span></th>
      <th class="timeline-col-2">End<span>End date</span></th>
      <th class="timeline-col-14">Timeline</th>
    </tr>
    </thead>
    <tbody>
    <tr ng-repeat="exec in execs">
      <td>{{ exec.name }}<span>{{ exec.type }}</span></td>
      <td>{{ exec.responseTime() | gatlingTimestamp }}</td>
      <td>
        {{ exec.startDeltaTime() | gatlingTimestamp }}
        <span>{{ exec.requestStartDate | gatlingDate }}</span>
      </td>
      <td>
        {{ exec.endDeltaTime() | gatlingTimestamp }}
        <span>{{ exec.responseEndDate | gatlingDate }}</span>
      </td>
      <td class="exec">
        <div style="margin-left: {{ exec.position() }}px; width: {{ exec.size() }}px;"></div>
        <span>{{ exec.responseTime() | gatlingTimestamp }}</span>
      </td>
    </tr>
    </tbody>
  </table>
</div>

<!-- Dependencies -->

<script type="text/javascript" src="../bower_components/jquery/jquery.min.js"></script>
<script type="text/javascript" src="../bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
<script type="text/javascript" src="../bower_components/angular/angular.min.js"></script>

<!-- Application -->

<!-- Data -->
<script type="text/javascript" src="../app/data/debug-data.js"></script>
<!-- Bootstrapping -->
<script type="text/javascript" src="../app/js/bootstrap.js"></script>
<!-- Filters -->
<script type="text/javascript" src="../app/js/filters/date.js"></script>
<script type="text/javascript" src="../app/js/filters/timestamp.js"></script>
<!-- Factories -->
<script type="text/javascript" src="../app/js/factories/exec.js"></script>
<!-- Controllers -->
<script type="text/javascript" src="../app/js/controllers/position.js"></script>
<script type="text/javascript" src="../app/js/controllers/ratio.js"></script>
<script type="text/javascript" src="../app/js/controllers/timeline.js"></script>

</body>
</html>
